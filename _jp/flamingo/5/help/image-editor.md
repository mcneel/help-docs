---
title: イメージエディタ
---

# {{page.title}}
nXtのイメージエディタは、どのようなnXtのプラットフォームによって作成されたネイティブのイメージファイル（.nXtImage）でも編集することができます。このネイティブファイルには、レンダリングの際に集められたすべての情報が保存されています。
nXtのイメージエディタを使うと、次のことが行えます。
<!-- TODO: This page needs to be updated.  One of the last we will work on. The image editor is not used much.-->

>[トーンマッピング](image-editor.html#tone-mapping)設定の調整。
>光源チャンネルの強度の変更。
>イメージベースのエフェクト（[ヘイズ](image-editor.html#haze)、[深度ブラー](image-editor.html#depth-blur)、[グレア](image-editor.html#glare)）の追加。
> トーンマッピングされたイメージを.jpgや.pngなどのビットマップ形式で[保存](image-editor.html#save-tonemapped-image-as)。
>輝度情報を[HDR形式](image-editor.html#save-hdr-image-as)に保存。
>高度な合成に用いるためのその他のマスクチャンネル（[アルファ](image-editor.html#alpha-channel)、[距離](image-editor.html#distance-channel)、[マテリアル](image-editor.html#material-channel)）の表示と保存。
>ノンフォトリアリスティックなレンダリングの作成に用いることができる[Piranesi&#169;](http://www.piranesi.co.uk/)ファイル形式（*.epx）の保存。
>レンダーファームの異なるノードによって生成されたイメージを組み合わせるなどの作業にイメージの[演算](image-editor.html#arithmetic)を使用。
>レンダリングを生成するのに使用された[照明スキーム](image-editor.html#save-lighting-settings-as)を保存。これらの照明設定をより多くのレンダリングを生成するのに用いることができます。

イメージエディタを起動するには

>**Flamingo nXt**メニューで**ユーティリティ &gt; Flamingo nXtイメージエディタ**をクリックします。

## ファイルメニュー
{: #file-menu}

### 開く
nXtImage形式で保存されたファイルを編集のために開きます。

### ソースイメージを保存
nXtImageファイルを保存します。

### ソースイメージを名前を付けて保存
nXtImageファイルを別の名前で保存します。

### トーンマッピングしたイメージを名前を付けて保存
{: #save-tonemapped-image-as}
編集されたイメージをビットマップ画像ファイルとして保存します。

>JPEG (.jpg)
>TIFF (.tif)
>TIFFTIFF(アルファチャンネルを含む) (.tif)
>PNG (.png)
>PNG(アルファチャンネルを含む) (.png)
> [Piranesi EPixファイル (.epx)](http://www.piranesi.co.uk/)

Piranesiは、手描き風のイメージを作成する3Dペインティングツールです。

### HDR画像を名前を付けて保存
{: #save-hdr-image-as}
HDRファイル (.hdr)
EXRファイル (.exr)
EXR(アルファチャンネルを含む) (.exr)

### マスクを保存
{: #save-mask}
nXtImageファイルには、ほとんどのビットマップエディタでの合成の際にマスクとして使用できる他の3つのチャンネルが含まれています。これらのチャンネルは、グレースケールイメージで符号化された、それぞれのピクセルのアルファ、距離、そしてマテリアルの情報を保存しています。それぞれのチャンネルは表示でき、pngファイルに保存することができます。

## メモ:

>アルファチャンネルは、トーンマッピングされたイメージを保存時にアルファを含むファイル形式を選択することで、トーンマッピングされたイメージに含むことができます。
>距離およびマテリアルチャンネルはアンチエイリアスされておらず、ハードなエッジのアーチファクトを表示することがあります。使用前にマスクに少量のガウスブラー（ぼかし）を追加すると、それらのエッジをソフトにすることができることがあります。
>マテリアルチャンネルは、255の異なるマテリアルを一意的に符号化するだけです。モデルにそれより多くのマテリアルが含まれている場合、マスク色の中には繰り返されるものもあります。

#### マテリアルチャンネル
{: #material-channel}
マテリアルチャンネルマスクを保存します。
![images/materialchannel.png](images/materialchannel.png)

#### アルファチャンネル
{: #alpha-channel}
アルファチャンネルマスクを保存します。
![images/alphachannel.png](images/alphachannel.png)

#### 距離チャンネル
{: #distance-channel}
距離チャンネルマスクを保存します。
![images/distancechannel.png](images/distancechannel.png)

### 照明設定を名前を付けて保存
{: #save-lighting-settings-as}
[照明スキーム](lighting-tab.html#open-lighting-scheme)を保存します。

## イメージメニュー
{: #renderwindowimage}

### 情報
{: #info}
イメージに関する情報を表示します。

### 演算
{: #arithmetic}
[レンダーファーム単一イメージ](automate-rendering.html#single-images)機能を用いて、レンダリングされたイメージのセグメントを組み合わせたり、重ねたりすることができます。

##### イメージのセグメントを組み合わせるには
1. **ファイル**メニューの**開く**をクリックします。
1. シーケンスの1つ目のイメージを選択します。（例えば、000000.nXtImage）
1. **イメージ**メニューの**演算**をクリックし、**加算**をクリックします。
1. シーケンスのその他のすべてのイメージを選択します。
 **メモ:** 1つ目のイメージ（000000.nXtImage）を再度選択しないでください。選択した場合、2度加算されてしまいます。

#### 加算
1つのレイヤのピクセル値をもう1つのレイヤに加算します。値が255（RGB）より大きい場合、白が表示されます。

#### 減算
1つのレイヤからもう1つのレイヤのピクセル値を減算します。値が負である場合、黒が表示されます。

#### 差
上のレイヤを下のレイヤから減算、または反対のことを行い、常に正の値を得ます。黒とブレンドした場合はすべての色の値が0であるので変化がありません。白とブレンドした場合は、画像が反転されます。

#### マスク加算
ブレンドの際に透明なアルファチャンネルマスクが考慮に入れます。

#### パストレーシングを結合
パストレーサーエンジンを用いてレンダリングされた複数枚のレンダリングイメージを結合します。例えば、それぞれ20のパスでレンダリングされた10枚のイメージを結合して、200のパスでレンダリングされた1つのイメージのようにすることができます。
*![images/combinedpathtrace200.png](images/combinedpathtrace200.png) *20のパスでレンダリング（左）、10枚の20パスのイメージを結合してできた200パスのイメージ（右）* 

### パッチを適用
{: #apply-patch}
選択領域としてレンダリングされたイメージをレンダリングイメージに挿入します。

### アニメーション
イメージの情報を変えてアニメーションを作成することができます。

##### イメージの効果をアニメートするには

1. 1つ目のイメージを設定します。**Frame**編集ボックスの横にある**プラス (+)**ボタンをクリックします。
1. イメージを編集し、フレームを追加します。
1. **イメージ &gt; アニメーション**をクリックし、ダイアログボックスで**プレビュー**をクリックします。
1. プレビューがよければ、**アニメート**をクリックします。

### フォルダを作成
アニメーション用ソフトウェアを使ってアニメーションを作成するのに用いることができるイメージのシーケンスが作成されます。

<!-- TODO: I'm not sure, but you may be missing an image here. The &#160 shows up as a blank space. -->
<!-- TODO: This may be wrong, but I've been removing the ####. It shows up as a font smaller than the rest of the page. It seems off to me. -->

## 表示メニュー
{: #view-menu}
イメージに何を表示するのかを指定します。

### 画像
元のレンダリングイメージを表示します。
![images/fx-001.png](images/fx-001.png)

### イメージとアルファマスク
イメージとアルファチャンネルマスクを一緒に表示します。
![images/imageandalpha.png](images/imageandalpha.png)

### マテリアルマスク
[マテリアルマスク](image-editor.html#material-channel)を表示します。
![images/materialchannel.png](images/materialchannel.png)

### 距離マスク
[距離マスク](image-editor.html#distance-channel)を表示します。
![images/distancechannel.png](images/distancechannel.png)

## イメージエディタの使用

##### イメージを読み込む
1.  レンダリング結果を**.nXtImage**として[保存](render-window.html#export-to-nxtimage)します。
1. **Flamingo nXt**メニューで**ユーティリティ &gt; Flamingo nXtイメージエディタ**をクリックします。
1. **nXtイメージエディタ**のファイルメニューの**開く**をクリックし、エディタにイメージを読み込みます。

<!-- TODO: OK, this time I didn't remove the #### -->

## トーンマッピング
{: #tone-mapping}
トーンマッピングは、nXtによって使われている輝度データを、表示または印刷できるRGBピクセルに変換する処理です。

## トーンマッピングのコントロール

### 明るさ
{: #brightness}
[レンダリングウィンドウ: 明るさ](render-window.html#brightness)を参照してください。
{% include_relative snippets/snippet-brightness.md %}
### 焼き込み
[レンダリングウィンドウ: 焼き込み](render-window.html#burn)を参照してください。

### 彩度
[レンダリングウィンドウ: 彩度](render-window.html#saturation)を参照してください。

### ヒストグラム
[レンダリングウィンドウ: ヒストグラム](render-window.html#histogram)を参照してください。

## ステータスフィールド
ステータスフィールドは、画面の一番下に表示されます。カーソルをイメージ上で動かすと、それぞれのピクセルの情報が表示されます。

### ピクセル
{: #pixel}
左下の隅から計測されたピクセル座標です。

### 色
{: #color}
最初の3つのフィールドは、トーンマッピング後のイメージに表示されたRGB色を表示します。4つ目のフィールドは、合成に用いるアルファ（透明度）チャンネルを表示します。

### 値
{: #value}
それぞれの赤、緑、青のサブチャンネルの輝度値です。

### 輝度
{: #lum}
それぞれのピクセルに格納された輝度値の加重平均です。

### 深度
{: #depth}
カメラからのそれぞれのピクセルのメートルでの距離です。負の値は背景ピクセルを意味します。

### マテリアル
{: #material}
ピクセルをレンダリングするのに使用されたマテリアル名です。

## FX設定
<!-- TODO: Do we want some information here? -->

## ヘイズ
{: #haze}
カメラからより離れたピクセルに色を追加します。この効果は、シーンにもややかすみ、霧の効果を追加したり、背景を色でマスクしたり、背景色を変更するのに用いることができます。
*![images/golden gate.png](images/golden gate.png)元のイメージ（左）、ヘイズを用いたイメージ（右）*

### 強弱
ヘイズの色の強度を指定します。

### 近
ヘイズがそれぞれのピクセルに色を付け始める位置のカメラからの距離です。

#### ピック
イメージ上の点をピックして距離を指定します。

### 遠
ヘイズ効果が最大になる位置の距離です。この点より先のすべてのピクセルはそれぞれに最大のヘイズ効果が追加されます。
「近」と「遠」の間のピクセルは、ヘイズ効果が近くのピクセルから遠くのピクセルへ直線状に追加されます

#### ピック
イメージ上の点をピックして距離を指定します。

### 色
ヘイズの色です。

#### ピック
イメージ上の点をピックして色を指定します。

## 深度ブラー
{: #depth-blur}
イメージのそれぞれのピクセルには距離値が含まれているので、指定距離の間でイメージをぼかすことができます。
![images/fx-depth-001.png](images/fx-depth-001.png)
*元のイメージ（左）、深度ブラーを用いたイメージ（右）*

### 強弱
ブラーの量を指定します。

### 焦点
{: #depthblurfocus}
イメージ中の焦点が合う距離を指定します。

#### ピック
イメージ上の点をピックして焦点距離を指定します。

### 焦点が合う範囲
{: #in-focus-zone}
はっきりと表示される**焦点**周辺の距離です。この値はメートルで指定します。この距離内のすべてのピクセルはピントが合い、ブラーフィルタによって無視されます。この距離を越えるピクセルは次第に近接するピクセルとぼかされ、被写界深度の錯覚を抱かせます。

### ブラー
ブラーフィルタがどの方向に機能するのかをコントロールします。デフォルト値は**背景**で、この場合**焦点が合う範囲**よりもカメラから離れているすべてのピクセルが段階的にぼかされます。
*![images/blur-001.png](images/blur-001.png)前景をぼかした状態（左）、背景をぼかした状態（右）*

#### 背景
**焦点が合う範囲**よりもカメラから離れているピクセルをぼかします。

#### 前景
**焦点が合う範囲**よりもカメラに近いピクセルをぼかします。

#### 両方
**焦点が合う範囲**の前後両方のピクセルをぼかします。 これは、被写界深度効果を素早く得る方法です。（ビルトインのレンダリング前に行う[被写界深度](render-tab.html#depthoffieldoption)ほど正確ではありません。）

## グレア
{: #glare}
グレアは、しきい値（ルーメンで指定）よりも明るいピクセルに影響し、周囲のピクセルにハロー（光の輪）の効果を作り出します。イメージの最も明るいピクセルのみが影響されます。
ピクセルのグレアを確認し、ルーメンの合計を読み取るには、ピクセルにカーソルを置きます。
*![images/glare-001.png](images/glare-001.png)
元のイメージ（左）、グレアを用いたイメージ（右）*

### 強弱
周辺のピクセルに影響するハローの量を調整します。

### しきい値
グレアフィルタによって影響される値の下限です。この値よりも明るいすべてのピクセルが影響されます。

#### ピック
イメージ上の点をピックして明るさの値を指定します。

## ビネット
{: #vignette}
イメージのエッジの色をぼかしてブレンドし、ハローの効果を作り出します。
*![images/fx-vignette-001.png](images/fx-vignette-001.png)元のイメージ（左）、ビネットを用いたイメージ（右）*
<!-- TODO: The captions for pictures under Glare and Vignette are starting to the right of the pictures, not under the pictures. -->
